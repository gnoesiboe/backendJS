"use strict";

/**
 * @param {Function} Inheritance
 *
 * @returns {Function}
 */
module.exports = function (Inheritance) {

    /**
     * @type {Object}
     */
    var _ = require('underscore/underscore');

    if (typeof Inheritance === 'undefined') {
        throw new Error('Controller module requires the Inheritance module to work');
    }

    /**
     * @constructor
     */
    var Controller = function () {
        Controller.prototype._init.apply(this, arguments);
    };

    _.extend(Controller.prototype, {

        /**
         * @protected
         */
        _init: function () {},

        /**
         * @param {Object} request
         * @param {Object} response
         *
         * @todo validate request and response input
         */
        handle: function (request, response) {
            // overwrite to add your own functionality
        }
    });

    Controller.extend = (new Inheritance()).extend;

    return Controller;
};